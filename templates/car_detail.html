<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ car_detail.name }} - Details</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-dark text-white">

<div class="container mt-5">
    <a href="{% url 'car_home' %}" class="btn btn-light mb-3">← Back</a>

    <div class="card bg-secondary shadow rounded-4">
        {% if car_detail.image %}
        <img src="{{ car_detail.image.url }}" class="card-img-top rounded-top-4" style="height: 400px; object-fit: cover;" alt="{{ car_detail.name }}">
        {% endif %}
        <div class="card-body">
            <h2 class="card-title">{{ car_detail.name }}</h2>
            <p class="card-text"><strong>Model:</strong> {{ car_detail.model }}</p>
            <p class="card-text"><strong>Engine:</strong> {{ car_detail.engine }}</p>
            <p class="card-text"><strong>Engine Power:</strong> {{ car_detail.enginepower }}</p>
            <p class="card-text"><strong>Price:</strong> {{ car_detail.price }}</p>
            <p class="card-text"><strong>Made In:</strong> {{ car_detail.madein }}</p>
            <p class="card-text"><strong>Top Speed:</strong> {{ car_detail.topspeed }}</p>
            <hr>

            <h2>Reviews for {{ car_detail.name }}</h2>
<!-- Review -->
            {% if reviews %}
                <ul class="list-unstyled">
                {% for review in reviews %}
                    <li class="mb-3">
                    <p><strong>Name : </strong>{{ review.name }}</p>
                    <p><strong>Review : </strong>{{ review.review }}</p>
                <!-- Star rating -->
                    {% for i in "12345" %}
                        {% if forloop.counter <= review.rating %}
                        <span style="color: gold;">★</span>
                    {% else %}
                            <span style="color: lightgray;">★</span>
                        {% endif %}
                    {% endfor %}

                    <small class="text-muted">{{ review.created_at|date:"M d, Y" }}</small>
                    <hr>
                    </li>
                {% endfor %}
            </ul>
    {% else %}
        <p>No reviews yet.</p>
    {% endif %}

 <!-- Review End -->
            <a href="{% url 'car_review' car_detail.id %}" class="btn btn-outline-primary mt-auto">Review</a>
            <br><br>
            <a href="{% url 'car_edit' car_detail.id %}" class="btn btn-outline-light mt-auto">Edit</a>
            <a href="{% url 'car_delete' car_detail.id %}" class="btn btn-outline-danger mt-auto">Delete</a>
        </div>
    </div>
</div>

</body>
</html>
